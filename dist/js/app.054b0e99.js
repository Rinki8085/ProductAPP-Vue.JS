(function(){"use strict";var t={5478:function(t,e,n){var o=n(9242),l=n(3396);function r(t,e){const n=(0,l.up)("router-link"),o=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("nav",null,[(0,l.Wm)(n,{to:"/"},{default:(0,l.w5)((()=>[(0,l.Uk)("Home")])),_:1})]),(0,l.Wm)(o)],64)}var i=n(89);const s={},a=(0,i.Z)(s,[["render",r]]);var u=a,c=n(2483),d=n(7139);const p=t=>((0,l.dD)("data-v-d16c44d6"),t=t(),(0,l.Cn)(),t),h={class:"home"},v={key:0},w={key:1},f={key:2},m={key:3,class:"backdrop"},y={class:"add"},b=p((()=>(0,l._)("h3",null,"Add Product",-1))),g=p((()=>(0,l._)("br",null,null,-1)));function _(t,e,n,r,i,s){const a=(0,l.up)("PostList");return(0,l.wg)(),(0,l.iD)("div",h,[i.error?((0,l.wg)(),(0,l.iD)("div",v,(0,d.zw)(i.error),1)):(0,l.kq)("",!0),(0,l._)("div",{class:"addPro",onClick:e[0]||(e[0]=t=>this.show=!i.show)},"Add Product"),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>i.query=t),placeholder:"Enter product name",onKeypress:e[2]||(e[2]=(...t)=>r.searchData&&r.searchData(...t))},null,544),[[o.nr,i.query]]),r.data.length?((0,l.wg)(),(0,l.iD)("div",w,[(0,l.Wm)(a,{posts:r.data},null,8,["posts"])])):((0,l.wg)(),(0,l.iD)("div",f,"Loading...")),i.show?((0,l.wg)(),(0,l.iD)("div",m,[(0,l._)("div",y,[b,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>r.title=t),placeholder:"Enter title"},null,512),[[o.nr,r.title]]),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>r.description=t),placeholder:"Enter description"},null,512),[[o.nr,r.description]]),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=t=>r.price=t),placeholder:"Enter price"},null,512),[[o.nr,r.price]]),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=t=>r.brand=t),placeholder:"Enter brand"},null,512),[[o.nr,r.brand]]),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=t=>r.thumbnail=t),placeholder:"Enter thumbnail"},null,512),[[o.nr,r.thumbnail]]),g,(0,l._)("button",{onClick:e[8]||(e[8]=(...t)=>r.submit&&r.submit(...t))},"Submit")])])):(0,l.kq)("",!0)])}const k=t=>((0,l.dD)("data-v-c2e5966e"),t=t(),(0,l.Cn)(),t),D=k((()=>(0,l._)("h2",null,"Product List",-1))),H={class:"product-list"},j=["src"],E={class:"brand"},C={class:"btns"},O=["onClick"],P=["onClick"],x={key:0,class:"backdrop"},U={class:"edit"};function q(t,e,n,r,i,s){return(0,l.wg)(),(0,l.iD)(l.HY,null,[D,(0,l._)("div",H,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.posts,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"list",key:t.id},[(0,l._)("h3",null,(0,d.zw)(t.title),1),((0,l.wg)(),(0,l.iD)("img",{src:r.getImage(t.thumbnail),key:t},null,8,j)),(0,l._)("p",null,(0,d.zw)(t.description),1),(0,l._)("div",E,(0,d.zw)(t.brand),1),(0,l._)("div",C,[(0,l._)("button",{onClick:e=>r.editPost(t.id)},"Edit",8,O),(0,l._)("button",{onClick:e=>r.deleteData(t.id)},"Delete",8,P)]),r.show===t.id?((0,l.wg)(),(0,l.iD)("div",x,[(0,l._)("div",U,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>r.title=t),placeholder:"Enter name"},null,512),[[o.nr,r.title]]),(0,l.wy)((0,l._)("input",{type:"description","onUpdate:modelValue":e[1]||(e[1]=t=>r.desc=t),placeholder:"Enter description"},null,512),[[o.nr,r.desc]]),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>r.price=t),placeholder:"Enter new price"},null,512),[[o.nr,r.price]]),(0,l._)("button",{onClick:e[3]||(e[3]=(...t)=>r.submit&&r.submit(...t))},"Edit "+(0,d.zw)(r.show),1),(0,l.Uk)("   "),(0,l._)("button",{onClick:e[4]||(e[4]=(...t)=>r.clickaway&&r.clickaway(...t)),style:{"background-color":"red"}},"Cancel")])])):(0,l.kq)("",!0)])))),128))])],64)}var z=n(4870);const V={class:"post"},T={class:"list"};function L(t,e,n,o,r,i){return(0,l.wg)(),(0,l.iD)("div",V,[(0,l._)("div",T,[(0,l._)("h3",null,(0,d.zw)(n.post.title),1),(0,l._)("p",null,(0,d.zw)(n.post.description),1)])])}var S={props:["post"],setup(t){}};const Z=(0,i.Z)(S,[["render",L]]);var I=Z,Y={props:["posts"],components:{SinglePost:I},setup(t){const e=(0,z.iH)(null),n=(0,z.iH)(null),o=(0,z.iH)(null),l=(0,z.iH)(null),r=t=>t,i=t=>{l.value=t},s=t=>{fetch(`http://localhost:3000/products/${t}`,{method:"DELETE"}).then((t=>t.json())).then((t=>{console.log(t)})).catch((t=>{console.log(t)}))},a=()=>{l.value=null},u=()=>{console.log(l.value);let t={title:e.value,description:n.value,price:Number(o.value)};console.log(t),fetch(`http://localhost:3000/products/${l.value}`,{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((t=>t.json())).then((t=>{console.log(t),l.value=null})).catch((t=>console.log(t)))};return{getImage:r,editPost:i,deleteData:s,title:e,desc:n,price:o,show:l,clickaway:a,submit:u}}};const $=(0,i.Z)(Y,[["render",q],["__scopeId","data-v-c2e5966e"]]);var A=$,N={name:"Home",components:{PostList:A},data(){return{query:"",data:[],error:"",show:!1}},methods:{},setup(){const t=(0,z.iH)([]),e=(0,z.iH)(null),n=(0,z.iH)(null),o=(0,z.iH)(null),r=(0,z.iH)(null),i=(0,z.iH)(null),s=(0,z.iH)(null),a=()=>{fetch("http://localhost:3000/products").then((t=>t.json())).then((e=>{t.value=e})).catch((t=>{e.value=t.message}))},u=n=>{if("Enter"===n.key){let o=n.target.value;fetch(`http://localhost:3000/products?title=${o}`).then((t=>t.json())).then((e=>{t.value=e})).catch((t=>{e.value=t.message}))}};(0,l.bv)((()=>{a()}));const c=()=>{let t={title:n.value,description:o.value,price:r.value,brand:i.value,thumbnail:s.value};fetch("http://localhost:3000/products",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((t=>t.json())).then((t=>{console.log(t,this.show),this.show=!1})).catch((t=>{console.log(t)}))};return{data:t,searchData:u,title:n,description:o,price:r,brand:i,thumbnail:s,submit:c}}};const W=(0,i.Z)(N,[["render",_],["__scopeId","data-v-d16c44d6"]]);var J=W;const K=(0,l._)("h1",null,"Details of post",-1),F={key:0},M={key:1,class:"post"};function B(t,e,n,o,r,i){return(0,l.wg)(),(0,l.iD)(l.HY,null,[K,o.error?((0,l.wg)(),(0,l.iD)("div",F,(0,d.zw)(o.error),1)):(0,l.kq)("",!0),o.posts?((0,l.wg)(),(0,l.iD)("div",M,[(0,l._)("h3",null,(0,d.zw)(o.posts.title),1)])):(0,l.kq)("",!0)],64)}const G=t=>{const e=(0,z.iH)([]),n=(0,z.iH)(null),o=async()=>{try{let n=await fetch(`https://dummyjson.com/products/search?q=${t}`);if(!n.ok)throw Error("no data available");let o=await n.json();e.value=o.products}catch(o){n.value=o.message,console.log(o.message)}};return{post:e,loads:o}};var Q=G,R={props:["id"],setup(t){const{posts:e,error:n,load:o}=Q(t.id);return o(),{posts:e,error:n}}};const X=(0,i.Z)(R,[["render",B]]);var tt=X;const et=[{path:"/",name:"home",component:J},{path:"/posts/:id",name:"Details",component:tt,props:!0}],nt=(0,c.p7)({history:(0,c.PO)("/"),routes:et});var ot=nt;(0,o.ri)(u).use(ot).mount("#app")}},e={};function n(o){var l=e[o];if(void 0!==l)return l.exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,o,l,r){if(!o){var i=1/0;for(c=0;c<t.length;c++){o=t[c][0],l=t[c][1],r=t[c][2];for(var s=!0,a=0;a<o.length;a++)(!1&r||i>=r)&&Object.keys(n.O).every((function(t){return n.O[t](o[a])}))?o.splice(a--,1):(s=!1,r<i&&(i=r));if(s){t.splice(c--,1);var u=l();void 0!==u&&(e=u)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[o,l,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var l,r,i=o[0],s=o[1],a=o[2],u=0;if(i.some((function(e){return 0!==t[e]}))){for(l in s)n.o(s,l)&&(n.m[l]=s[l]);if(a)var c=a(n)}for(e&&e(o);u<i.length;u++)r=i[u],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(c)},o=self["webpackChunkdojo_blog"]=self["webpackChunkdojo_blog"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(5478)}));o=n.O(o)})();
//# sourceMappingURL=app.054b0e99.js.map